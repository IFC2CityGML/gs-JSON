webpackJsonp([1],{0:function(n,t,e){n.exports=e("cDNt")},cDNt:function(n,t,e){"use strict";function l(n){return o._16(0,[(n()(),o._3(0,null,null,25,"body",[],null,null,null,null,null)),(n()(),o._15(null,["\n"])),(n()(),o._3(0,null,null,22,"div",[["class","form-style-2"]],null,null,null,null,null)),(n()(),o._15(null,["\n"])),(n()(),o._3(0,null,null,1,"div",[["class","form-style-2-heading"]],null,null,null,null,null)),(n()(),o._15(null,["Format Translation"])),(n()(),o._15(null,["\n"])),(n()(),o._3(0,null,null,4,"label",[["for","inputType"]],null,null,null,null,null)),(n()(),o._3(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o._15(null,["Select Translation"])),(n()(),o._3(0,null,null,1,"select",[["class","select-field"],["id","inputType"]],null,null,null,null,null)),(n()(),o._15(null,["\n"])),(n()(),o._15(null,["\n\n"])),(n()(),o._3(0,null,null,5,"label",[["for","inputf"]],null,null,null,null,null)),(n()(),o._3(0,null,null,3,"span",[],null,null,null,null,null)),(n()(),o._15(null,["Select Input File"])),(n()(),o._3(0,null,null,1,"span",[["class","required"]],null,null,null,null,null)),(n()(),o._15(null,["*"])),(n()(),o._3(0,null,null,0,"input",[["class","input-field"],["id","inputf"],["name","inputf"],["type","file"],["value",""]],null,null,null,null,null)),(n()(),o._15(null,["\n\n"])),(n()(),o._3(0,null,null,3,"label",[],null,null,null,null,null)),(n()(),o._3(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o._15(null,["\xa0"])),(n()(),o._3(0,null,null,0,"input",[["id","translate"],["type","submit"],["value","Translate"]],null,null,null,null,null)),(n()(),o._15(null,["\n\n"])),(n()(),o._15(null,["\n"]))],null,null)}function r(n){return o._16(0,[(n()(),o._3(0,null,null,1,"app-root",[],null,null,null,l,y)),o._1(49152,null,0,m,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var o=e("/oeL"),u={production:!0},i=function(){function n(){}return n}(),a=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function l(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),s=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return a(t,n),t.prototype.read=function(){return JSON.parse(this.result)},t.write=function(n){return"text/json;charset=utf-8,"+encodeURIComponent(n)},t}(FileReader),p=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return a(t,n),t.prototype.read=function(){var n=(new DOMParser).parseFromString(this.result,"text/xml");return n.getElementsByTagName("gml:posList"),n},t.prototype.write=function(n){return"text/xml;charset=utf-8,"+n},t}(FileReader),c=function(){function n(n,t,e){var l=this;this.toString=function(){return l.prefix+l.array.toString()+l.postfix},this.isEqual=function(n){var t=n.array;if(l.array.length!=t.length)return!1;for(var e=0;e<l.array.length;e++)if(l.array[e]!=t[e])return!1;return!0},this.array=t,this.prefix=n+"[",this.postfix="]"+e}return n.create=function(t){return new n("",t,"")},n.prototype.push=function(n){this.array.push(n)},n.prototype.pop=function(){return this.array.pop()},n}(),f=function(){function n(){this.allpoints=new Array,this.faces=[]}return n.prototype.map=function(n){this.mapBuildElement(n.getElementsByTagName("bldg:RoofSurface")),this.mapBuildElement(n.getElementsByTagName("bldg:WallSurface")),this.mapBuildElement(n.getElementsByTagName("bldg:FloorSurface"));return'"geometry": {\n\t"pointsets": [\n\t\t[\n\t\t\t['+this.allpoints.toString()+'\n\t\t\t],\n\t\t\t[1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1]\n\t\t]\n\t],\n\t"entities": [\n\t\t['+this.faces.toString()+"\n\t\t]\n\t]\n}"},n.prototype.mapBuildElement=function(n){for(var t=0;t<n.length;t++){var e=n[t];this.faces.push(new c("\n\t\t\t\t",this.mapSurface(e,203,void 0),"")),this.mapOpenings(e.getElementsByTagName("bldg:Window")),this.mapOpenings(e.getElementsByTagName("bldg:Door"))}},n.prototype.mapOpenings=function(n){for(var t=0;t<n.length;t++)this.faces.push(new c("\n\t\t\t\t",this.mapSurface(n[t],203,void 0),""))},n.prototype.mapSurface=function(n,t,e){var l=[];l.push(t),l.push(this.mapGeometry(n));var r=c.create([]);if(void 0!=e)for(var o=0;o<e.length;o++)r.push(this.mapGeometry(e[o]));return l.push(r),l},n.prototype.mapGeometry=function(n){for(var t=n.getElementsByTagName("gml:posList"),e=[],l=0;l<t.length;l++){var r=c.create([]);r.push(0);for(var o=t[l].textContent.split(" ").map(function(n){return parseFloat(n)}),u=c.create([]),i=0;i<o.length-3;i+=3){var a=new c("\n\t\t\t\t",[o[i],o[i+1],o[i+2]],""),s=this.allpoints.findIndex(function(n,t,e){return n.isEqual(a)});s<0&&(this.allpoints.push(a),s=this.allpoints.length-1),u.push(s)}r.push(u),e.push(r)}return c.create(e)},n}(),d=function(){function n(){}return n.prototype.map=function(n){return""},n}(),_=function(){function n(n){if(void 0==n)return void alert("Please select input file");this.reader=new p,this.reader.readAsText(n)}return n.prototype.export=function(){if(null==this.reader.result||void 0==this.reader.result)return void alert("Please select input file");var n=(new f).map(this.reader.read());return s.write(n)},n}(),g=function(){function n(n){if(void 0==n)return void alert("Please select input file");this.reader=new s,this.reader.readAsText(n)}return n.prototype.export=function(){if(null==this.reader.result||void 0==this.reader.result)return void alert("Please select input file");var n=(new d).map(this.reader.read());return s.write(n)},n}(),m=function(){function n(){}return n.initForm=function(){n.selection=document.getElementById("inputType"),n.selection.add(new Option("CityGML To GSJSON","0")),n.selection.add(new Option("GSJSON To ThreeJS","1")),n.input=document.getElementById("inputf"),n.translateBut=document.getElementById("translate")},n.setListeners=function(){n.input.addEventListener("change",this.setExporter,!1),n.translateBut.addEventListener("click",this.translate,!1)},n.setExporter=function(t){n.inputFile=t.target.files[0];var e=n.inputFile.name.split("."),l=e[e.length-1];"1"==n.selection.value?"json"==l?n.exporter=new g(n.inputFile):(alert("Select JSON file as input for this conversion."),n.inputFile=null):"gml"==l||"xml"==l?n.exporter=new _(n.inputFile):(alert("Select gml or xml file as input for this conversion."),n.inputFile=null)},n.translate=function(t){if(null==n.inputFile)return void alert("Select appropriate input for this conversion.");var e=n.exporter.export(),l=document.createElement("a");l.href="data:"+e,l.download="data",l.innerHTML="Download File",l.click()},n}(),h=!1;document.onmouseover=function(){h||(m.initForm(),m.setListeners(),h=!0)};var x=[".form-style-2[_ngcontent-%COMP%]{max-width:500px;padding:20px 12px 10px 20px;font:13px Arial,Helvetica,sans-serif}.form-style-2-heading[_ngcontent-%COMP%]{font-weight:700;font-style:italic;border-bottom:2px solid #ddd;margin-bottom:20px;font-size:15px;padding-bottom:3px}.form-style-2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin:0 0 15px 0}.form-style-2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100px;font-weight:700;float:left;padding-top:8px;padding-right:5px}.form-style-2[_ngcontent-%COMP%]   span.required[_ngcontent-%COMP%]{color:red}.form-style-2[_ngcontent-%COMP%]   .tel-number-field[_ngcontent-%COMP%]{width:40px;text-align:center}.form-style-2[_ngcontent-%COMP%]   input.input-field[_ngcontent-%COMP%]{width:48%}.form-style-2[_ngcontent-%COMP%]   .select-field[_ngcontent-%COMP%], .form-style-2[_ngcontent-%COMP%]   .tel-number-field[_ngcontent-%COMP%], .form-style-2[_ngcontent-%COMP%]   .textarea-field[_ngcontent-%COMP%], .form-style-2[_ngcontent-%COMP%]   input.input-field[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;border:1px solid #c2c2c2;box-shadow:1px 1px 4px #ebebeb;-moz-box-shadow:1px 1px 4px #ebebeb;-webkit-box-shadow:1px 1px 4px #ebebeb;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;padding:7px;outline:none}.form-style-2[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:focus, .form-style-2[_ngcontent-%COMP%]   .select-field[_ngcontent-%COMP%]:focus, .form-style-2[_ngcontent-%COMP%]   .tel-number-field[_ngcontent-%COMP%]:focus, .form-style-2[_ngcontent-%COMP%]   .textarea-field[_ngcontent-%COMP%]:focus{border:1px solid #0c0}.form-style-2[_ngcontent-%COMP%]   .textarea-field[_ngcontent-%COMP%]{height:100px;width:55%}.form-style-2[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .form-style-2[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{border:none;padding:8px 15px 8px 15px;background:#ff8500;color:#fff;box-shadow:1px 1px 4px #dadada;-moz-box-shadow:1px 1px 4px #dadada;-webkit-box-shadow:1px 1px 4px #dadada;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}.form-style-2[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover, .form-style-2[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background:#ea7b00;color:#fff}"],b=[x],y=o._0({encapsulation:0,styles:b,data:{}}),O=o.Y("app-root",m,r,{},{},[]),v=e("qbdv"),P=e("fc+i"),w=o.Z(i,[m],function(n){return o._12([o._13(512,o.i,o.W,[[8,[O]],[3,o.i],o.x]),o._13(5120,o.v,o._11,[[3,o.v]]),o._13(4608,v.d,v.c,[o.v]),o._13(4608,o.h,o.h,[]),o._13(5120,o.a,o._4,[]),o._13(5120,o.t,o._9,[]),o._13(5120,o.u,o._10,[]),o._13(4608,P.b,P.s,[v.b]),o._13(6144,o.H,null,[P.b]),o._13(4608,P.e,P.f,[]),o._13(5120,P.c,function(n,t,e,l){return[new P.k(n),new P.o(t),new P.n(e,l)]},[v.b,v.b,v.b,P.e]),o._13(4608,P.d,P.d,[P.c,o.z]),o._13(135680,P.m,P.m,[v.b]),o._13(4608,P.l,P.l,[P.d,P.m]),o._13(6144,o.F,null,[P.l]),o._13(6144,P.p,null,[P.m]),o._13(4608,o.L,o.L,[o.z]),o._13(4608,P.g,P.g,[v.b]),o._13(4608,P.i,P.i,[v.b]),o._13(512,v.a,v.a,[]),o._13(1024,o.l,P.q,[]),o._13(1024,o.b,function(n,t){return[P.r(n,t)]},[[2,P.h],[2,o.y]]),o._13(512,o.c,o.c,[[2,o.b]]),o._13(131584,o._2,o._2,[o.z,o.X,o.r,o.l,o.i,o.c]),o._13(2048,o.e,null,[o._2]),o._13(512,o.d,o.d,[o.e]),o._13(512,P.a,P.a,[[3,P.a]]),o._13(512,i,i,[])])});u.production&&Object(o.R)(),Object(P.j)().bootstrapModuleFactory(w).catch(function(n){return console.log(n)})},gFIY:function(n,t){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="gFIY"}},[0]);